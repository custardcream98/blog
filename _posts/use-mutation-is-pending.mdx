---
title: "isPendingë§Œìœ¼ë¡œ ë”°ë‹¥ì„ ë§‰ì„ ìˆ˜ ì—†ëŠ” ì´ìœ "
excerpt: "React Queryì˜ `useMutation`ì„ ì‚¬ìš©í•  ë•Œ `isPending`ìœ¼ë¡œ ìš”ì²­ì¤‘ ë²„íŠ¼ì„ `disabled`ë¡œ ë§Œë“¤ì–´ë„ ì¤‘ë³µ í˜¸ì¶œì„ ì™„ì „íˆ ë§‰ì„ ìˆ˜ëŠ” ì—†ëŠ” ì´ìœ "
date: "2025-07-16"
category: ["React.js"]
---

> React Queryì˜ `useMutation`ì„ ì‚¬ìš©í•  ë•Œ `isPending`ìœ¼ë¡œ ìš”ì²­ì¤‘ ë²„íŠ¼ì„ `disabled`ë¡œ ë§Œë“¤ì–´ë„ ì¤‘ë³µ í˜¸ì¶œì„ ì™„ì „íˆ ë§‰ì„ ìˆ˜ëŠ” ì—†ëŠ” ì´ìœ 

API ìš”ì²­ê³¼ ê°™ì€ ë¹„ë™ê¸° ì‘ì—…ì„ ì²˜ë¦¬í•  ë•Œ, ì‚¬ìš©ìì—ê²Œ í˜„ì¬ ìƒíƒœë¥¼ ì•Œë ¤ì£¼ëŠ” ê²ƒì€ ì¢‹ì€ UXì˜ ê¸°ë³¸ì…ë‹ˆë‹¤. íŠ¹íˆ ìš”ì²­ì´ ì²˜ë¦¬ë˜ëŠ” ë™ì•ˆ ë²„íŠ¼ì„ ë¹„í™œì„±í™”í•´ì„œ ì¤‘ë³µ ìš”ì²­ì„ ë§‰ëŠ” ê²ƒì€ ê±°ì˜ êµ­ë£°ì²˜ëŸ¼ ì—¬ê²¨ì§€ëŠ” íŒ¨í„´ì´ì£ .

ì € ì—­ì‹œ React Queryì˜ `useMutation`ì„ ì‚¬ìš©í•˜ë©´ì„œ `mutation.isPending` ìƒíƒœë¥¼ ë²„íŠ¼ì˜ `disabled` ì†ì„±ì— ë„£ì–´ ì‚¬ìš©í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.

```jsx
const mutation = useMutation({ mutationFn: someApi })

<button disabled={mutation.isPending} onClick={() => mutation.mutate()}>
  {mutation.isPending ? "ì²˜ë¦¬ ì¤‘..." : "ìš”ì²­í•˜ê¸°"}
</button>
```

ì´ë ‡ê²Œ í•˜ë©´ `isPending`ì´ `true`ì¼ ë•Œ ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ë‹ˆ, ì‚¬ìš©ìê°€ ë²„íŠ¼ì„ ì—¬ëŸ¬ ë²ˆ ì—°íƒ€í•´ë„ ìš”ì²­ì€ í•œ ë²ˆë§Œ ê°ˆ ê±°ë¼ê³  ë¯¿ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì—” ê·¸ë ‡ì£ .

í•˜ì§€ë§Œ ì•„ì£¼ ë“œë¬¼ê²Œ **ì¤‘ë³µ ìš”ì²­ì´ ë°œìƒí•œ ì‚¬ìš©ì ë¡œê·¸ê°€ ë°œê²¬**ëìŠµë‹ˆë‹¤. ì–´ë–»ê²Œ `disabled`ëœ ë²„íŠ¼ì´ ë‹¤ì‹œ ëˆŒë¦´ ìˆ˜ ìˆì—ˆì„ê¹Œìš”?

## ë²”ì¸ì€ ë°”ë¡œ 'ì—…ë°ì´íŠ¸ ì‹œì ì˜ ì°¨ì´'

ê²°ë¡ ë¶€í„° ë§í•˜ìë©´, ìš°ë¦¬ê°€ `mutation.mutate()`ë¥¼ í˜¸ì¶œí•˜ëŠ” ì‹œì ê³¼ React Queryê°€ `isPending` ìƒíƒœë¥¼ `true`ë¡œ ì—…ë°ì´íŠ¸í•˜ê³  ë¦¬ì•¡íŠ¸ê°€ ë¦¬ë Œë”ë§ì„ í†µí•´ ë²„íŠ¼ì„ `disabled`ë¡œ ë§Œë“œëŠ” ì‹œì  ì‚¬ì´ì—ëŠ” ì•„ì£¼ ë¯¸ì„¸í•œ ì‹œê°„ ê°­ì´ ì¡´ì¬í•©ë‹ˆë‹¤. ì´ ê°­ì„ íŒŒê³ ë“¤ë©´ ì¤‘ë³µ ìš”ì²­ì´ ê°€ëŠ¥í•´ì§‘ë‹ˆë‹¤.

ì´ í˜„ìƒì„ ì¬í˜„í•˜ê¸° ìœ„í•´ ë°ëª¨ ì½”ë“œë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ([ì „ì²´ ë°ëª¨ ì½”ë“œëŠ” GitHubì—ì„œ í™•ì¸](https://github.com/custardcream98/react-query-update-timing-issue))

ë°ëª¨ì—ì„œëŠ” ì¤‘ë³µ í˜¸ì¶œì„ Programmaticí•˜ê²Œ ì¬í˜„í•˜ë„ë¡ ì„¸ ë²ˆì˜ í´ë¦­ì„ ì—°ì†ìœ¼ë¡œ ì‹¤í–‰í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

```jsx
const tripleClick = () => {
  // â‘  ì²« ë²ˆì§¸ í´ë¦­: ë™ê¸° ì‹¤í–‰
  buttonRef.current?.click()

  // â‘¡ ë‘ ë²ˆì§¸ í´ë¦­ ì‹œë„: ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¡œ ì‹¤í–‰
  queueMicrotask(() => {
    buttonRef.current?.click()
  })

  // â‘¢ ì„¸ ë²ˆì§¸ í´ë¦­ ì‹œë„: ë§¤í¬ë¡œíƒœìŠ¤í¬ë¡œ ì‹¤í–‰
  setTimeout(() => {
    buttonRef.current?.click()
  }, 0)
}
```

[ë°ëª¨](https://custardcream98.github.io/react-query-update-timing-issue/)ì—ì„œ "Trigger Triple Click" ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì´ ì½”ë“œê°€ ì‹¤í–‰ë˜ëŠ”ë°, ì½˜ì†”ì„ ì—´ì–´ í™•ì¸í•´ë³´ë©´ API í˜¸ì¶œì€ **ë‘ ë²ˆ** ì¼ì–´ë‚©ë‹ˆë‹¤.

<figure>
  <NextImage src='/static/img/use-mutation-is-pending/log.png' alt='ë°ëª¨ ì½”ë“œ ì‹¤í–‰ ê²°ê³¼' />
  <figcaption>
    ë‘ ë²ˆì§¸ í´ë¦­ ì‹œë„ì‹œ `button.disabled`ê°€ `false`ë¡œ, API CALL ë¡œê·¸ê°€ ë‘ ë²ˆ ë‚¨ìŒ
  </figcaption>
</figure>

2ë²ˆê³¼ 3ë²ˆ ì‚¬ì´ì— ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚¬ë‹¤ëŠ” ì ì—ë„ ì£¼ëª©í•´ì£¼ì„¸ìš”.

### 1. ì´ë²¤íŠ¸ ë£¨í”„: Macro-taskì™€ Micro-task

ì ì‹œ JS ê¸°ë³¸ ê°œë… í•˜ë‚˜ ì§šì–´ë³´ê² ìŠµë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ì—¬ëŸ¬ ì‘ì—…ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ Queueë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. ì¤‘ìš”í•œ ê²ƒì€ ì‘ì—…ì˜ ì¢…ë¥˜ì— ë”°ë¼ ì²˜ë¦¬ ìš°ì„ ìˆœìœ„ê°€ ë‹¤ë¥´ë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

- **Macro-task**: `setTimeout`, `setInterval`, UI ì´ë²¤íŠ¸(í´ë¦­ ë“±), ë Œë”ë§
- **Micro-task**: `Promise.then`, `queueMicrotask`

ì´ë²¤íŠ¸ ë£¨í”„ëŠ” í•˜ë‚˜ì˜ ë§¤í¬ë¡œíƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•œ í›„, **íì— ìŒ“ì¸ ëª¨ë“  ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ ì „ë¶€ ì‹¤í–‰**í•˜ê³ , ê·¸ ë‹¤ìŒì—ì•¼ ë‹¤ìŒ ë§¤í¬ë¡œíƒœìŠ¤í¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì¦‰, ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ì˜ ìš°ì„ ìˆœìœ„ê°€ ë” ë†’ìŠµë‹ˆë‹¤.

### 2. React Queryì˜ ìƒíƒœ ì—…ë°ì´íŠ¸: `setTimeout`ì„ í†µí•œ ë°°ì¹˜ ì²˜ë¦¬

React QueryëŠ” ë‚´ë¶€ì ìœ¼ë¡œ **`notifyManager`** ë¥¼ êµ¬í˜„í•´ ìƒíƒœ ë³€ê²½ notificationì„ ê´€ë¦¬í•©ë‹ˆë‹¤. ê³µì‹ ë¬¸ì„œì—ë„ ë‚˜ì™€ ìˆë“¯, `notifyManager`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ **`setTimeout(..., 0)`** ì„ ì‚¬ìš©í•´ notificationì„ ìŠ¤ì¼€ì¤„ë§í•©ë‹ˆë‹¤.

> By default, the batch is run with a `setTimeout`
>
> _â€” TanStack Query [Docs](https://tanstack.com/query/latest/docs/reference/notifyManager#:~:text=By%20default%2C%20the%20batch%20is%20run%20with%20a%20setTimeout)_

[ì½”ë“œ í™•ì¸í•˜ê¸°](https://github.com/TanStack/query/blob/4d8bbbfc2c53b676a3503d057872cb34d42772a8/packages/query-core/src/notifyManager.ts#L13)

ì¦‰, `mutation.mutate()`ê°€ í˜¸ì¶œë˜ë©´ "`isPending`ì„ `true`ë¡œ ë°”ê¿¨ìœ¼ë‹ˆ ë¦¬ë Œë”í•˜ë¼" ë¼ëŠ” ìš”ì²­ì´ ë°”ë¡œ ì²˜ë¦¬ë˜ëŠ” ê²Œ ì•„ë‹ˆë¼, `setTimeout`ì„ í†µí•´ ë§¤í¬ë¡œíƒœìŠ¤í¬ íì— ë“±ë¡ëœë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤. ë™ê¸°ì ìœ¼ë¡œ ë°œìƒí•˜ëŠ” ì—¬ëŸ¬ ê°œì˜ `notify()` í˜¸ì¶œì„ í•˜ë‚˜ì˜ `setTimeout` ì˜ˆì•½ìœ¼ë¡œ ë¬¶ì–´ì„œ ê´€ë¦¬í•˜ê¸° ìœ„í•´ ì´ë ‡ê²Œ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

ì°¸ê³ ë¡œ `notifyManager.setScheduler`ë¥¼ ì‚¬ìš©í•´ì„œ `setTimeout` ëŒ€ì‹  ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ ìŠ¤ì¼€ì¤„ë§ í•˜ë„ë¡ ì¡°ì •í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ([ë§í¬](https://tanstack.com/query/latest/docs/reference/notifyManager#notifymanagersetscheduler))

## ì‹œê°„ ìˆœì„œëŒ€ë¡œ ì¬êµ¬ì„±í•´ë³´ê¸°

"Trigger Triple Click"ì„ ëˆŒë €ì„ ë•Œ ë¬´ìŠ¨ ì¼ì´ ì¼ì–´ë‚˜ëŠ”ì§€ ì‹œê°„ ìˆœì„œëŒ€ë¡œ ë”°ë¼ê°€ ë´…ì‹œë‹¤.

1.  **`tripleClick` í•¨ìˆ˜ ì‹¤í–‰ (í˜„ì¬ Task: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì´ë¯€ë¡œ ë§¤í¬ë¡œíƒœìŠ¤í¬)**

    1.  **ì²« ë²ˆì§¸ í´ë¦­ (ë™ê¸°)**: `buttonRef.current.click()`ì´ í˜¸ì¶œë©ë‹ˆë‹¤.

        - `mutation.mutate()`ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤. notificationì„ ìœ„í•œ ì½œë°±ì„ `notifyManager` ë‚´ì˜ íì— ì¶”ê°€í•©ë‹ˆë‹¤.
        - React Queryì˜ `notifyManager`ëŠ” "ë¦¬ë Œë”ë§ í•˜ë¼"ëŠ” ì‘ì—…ì„ `setTimeout`ìœ¼ë¡œ ì˜ˆì•½í•©ë‹ˆë‹¤. (ğŸ‘‰ **ë§¤í¬ë¡œíƒœìŠ¤í¬ íì— ë“±ë¡**)

    2.  **ë‘ ë²ˆì§¸ í´ë¦­ ì‹œë„ (ë§ˆì´í¬ë¡œíƒœìŠ¤í¬)**: `queueMicrotask`ê°€ í˜¸ì¶œë©ë‹ˆë‹¤.

        - ì½œë°± í•¨ìˆ˜ëŠ” í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ ë™ê¸° ì½”ë“œê°€ ëª¨ë‘ ëë‚œ ì§í›„, ë‹¤ìŒ ë§¤í¬ë¡œíƒœìŠ¤í¬ê°€ ì‹œì‘ë˜ê¸° ì „ì— ì‹¤í–‰ë©ë‹ˆë‹¤. (ğŸ‘‰ **ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì— ë“±ë¡**)

    3.  **ì„¸ ë²ˆì§¸ í´ë¦­ ì‹œë„ (ë§¤í¬ë¡œíƒœìŠ¤í¬)**: `setTimeout`ì´ í˜¸ì¶œë©ë‹ˆë‹¤.
        - ì½œë°± í•¨ìˆ˜ëŠ” `0ms` ë’¤ì— ì‹¤í–‰ë˜ë„ë¡ ì˜ˆì•½ë©ë‹ˆë‹¤. (ğŸ‘‰ **ë§¤í¬ë¡œíƒœìŠ¤í¬ íì— ë“±ë¡**)

2.  **ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ì‹¤í–‰**

    - í˜„ì¬ ë§¤í¬ë¡œíƒœìŠ¤í¬ê°€ ëë‚¬ìœ¼ë¯€ë¡œ, ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íë¥¼ í™•ì¸í•©ë‹ˆë‹¤.
    - 1.2ë²ˆì—ì„œ ì˜ˆì•½í•œ ì½œë°±ì´ ì‹¤í–‰ë©ë‹ˆë‹¤. `buttonRef.current.click()`ì´ ë‹¤ì‹œ í˜¸ì¶œë©ë‹ˆë‹¤.
    - ì´ ì‹œì ì—ë„ ì•„ì§ 1.1ë²ˆì—ì„œ ì˜ˆì•½í•œ ë¦¬ë Œë”ë§ ë§¤í¬ë¡œíƒœìŠ¤í¬ê°€ ì‹¤í–‰ë˜ê¸° ì „ì´ë¯€ë¡œ, `isPending`ì€ ì—¬ì „íˆ `false`ì…ë‹ˆë‹¤. ë²„íŠ¼ì€ í™œì„±í™” ìƒíƒœì…ë‹ˆë‹¤.
    - `mutation.mutate()`ê°€ **ë‘ ë²ˆì§¸ë¡œ** ì‹¤í–‰ë©ë‹ˆë‹¤. `notifyManager` ë•ë¶„ì— ë¦¬ë Œë”ë§ì€ ë°°ì¹˜ ì²˜ë¦¬ë˜ì–´, ì—¬ê¸°ì—ì„œëŠ” notificationì„ ìœ„í•œ ì½œë°±ë§Œ íì— ì¶”ê°€í•˜ê³  ë”°ë¡œ ë¦¬ë Œë”ë§ì„ ì˜ˆì•½í•˜ì§€ëŠ” ì•ŠìŠµë‹ˆë‹¤.

3.  **ë¦¬ë Œë”ë§**

    - ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íê°€ ë¹„ì›Œì¡ŒìŠµë‹ˆë‹¤. ì´ì œ ì´ë²¤íŠ¸ ë£¨í”„ëŠ” ë§¤í¬ë¡œíƒœìŠ¤í¬ íì—ì„œ ë‹¤ìŒ ì‘ì—…ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
    - 1.1ë²ˆ í´ë¦­ìœ¼ë¡œ ì˜ˆì•½ë˜ì—ˆë˜ ë¦¬ë Œë”ë§ ì‘ì—…(ì •í™•íˆ ë§í•˜ë©´ `notifyManager`ì˜ `flush` í•¨ìˆ˜ ì½œ)ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.
    - ë•ë¶„ì— ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ê³ , `isPending`ì€ `true`ê°€ ë˜ë©°, ë²„íŠ¼ì˜ `disabled` ì†ì„±ì´ `true`ë¡œ ë°”ë€ë‹ˆë‹¤.

4.  **ì„¸ ë²ˆì§¸ í´ë¦­ ì‹¤í–‰**
    - 1.3ë²ˆì—ì„œ ì˜ˆì•½í•œ `setTimeout` ì½œë°±ì´ ì‹¤í–‰ë©ë‹ˆë‹¤.
    - í•˜ì§€ë§Œ ì´ë•ŒëŠ” ì´ë¯¸ 3ë²ˆ ë‹¨ê³„ë¡œ ì¸í•´ ë²„íŠ¼ì´ ë¹„í™œì„±í™”ë˜ì—ˆìœ¼ë¯€ë¡œ, `buttonRef.current.click()`ì€ ì•„ë¬´ íš¨ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.

ê²°ê³¼ì ìœ¼ë¡œ, ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚˜ê¸° ì „ì˜ ì•„ì£¼ ì§§ì€ í‹ˆì— 1ë²ˆ(ë™ê¸°)ê³¼ 2ë²ˆ(ë§ˆì´í¬ë¡œíƒœìŠ¤í¬) í´ë¦­ì´ ëª¨ë‘ ì„±ê³µí•˜ì—¬ API í˜¸ì¶œì´ ë‘ ë²ˆ ë°œìƒí•˜ê²Œ ëœ ê²ƒì…ë‹ˆë‹¤.

## ë‚¨ì€ ê³ ë¯¼

ì‚¬ì‹¤ ì‹¤ì œ ì‚¬ìš©ìê°€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ìˆ˜ì¤€ìœ¼ë¡œ í´ë¦­ì„ ì œì–´í•˜ê¸°ëŠ” ë¶ˆê°€ëŠ¥ì— ê°€ê¹ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ë°ëª¨ëŠ” **`isPending` ìƒíƒœ ì—…ë°ì´íŠ¸ì™€ UI ë°˜ì˜ ì‚¬ì´ì—ëŠ” í‹ˆì´ ìƒê¸¸ ìˆ˜ ìˆë‹¤**ëŠ” ì‚¬ì‹¤ì„ ëª…í™•í•˜ê²Œ ë³´ì—¬ì¤ë‹ˆë‹¤.

ì´ ë¬¸ì œì˜ ì›ì¸ì´ ë¬´ì—‡ì¼ì§€ ì˜¤ë«ë™ì•ˆ ê³ ë¯¼í–ˆì—ˆëŠ”ë°, ëª…í™•í•˜ê²Œ íŒŒì•…í•˜ë‹ˆ ì†ì´ ì‹œì›í•˜ë„¤ìš”.

ì´ì œ ë‚¨ì€ ê²ƒì€ **ì–´ë–»ê²Œ ë§‰ì„ ê²ƒì¸ê°€?** í•˜ëŠ” ë¬¸ì œì…ë‹ˆë‹¤.

- `useRef`ë¡œ í”Œë˜ê·¸ë¥¼ ë§Œë“¤ì–´ì„œ `mutate` í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ì¦‰ì‹œ ì ê·¸ëŠ” ë°©ë²•
- `useState`ë¡œ ë³„ë„ì˜ ë¡œë”© ìƒíƒœë¥¼ ë§Œë“¤ì–´ì„œ ë™ê¸°ì ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸ë¡œ ê´€ë¦¬í•˜ëŠ” ë°©ë²•
- `debounce`ë‚˜ `throttle`ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
- ê¸°ë³¸ ìŠ¤ì¼€ì¤„ëŸ¬ë¥¼ `queueMicrotask`ë¡œ ë³€ê²½í•´ì„œ ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ì•ë‹¹ê¸°ëŠ” ë°©ë²• (ì™„ë²½í•˜ì§„ ì•Šê² ì§€ë§Œ)

ì–´ë–¤ ê²ƒì´ ê°€ì¥ ìš°ì•„í•œ ë°©ë²•ì¼ì§€ëŠ” ê³ ë¯¼ì´ ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ í•œ ê°€ì§€ í™•ì‹¤í•œ ê²ƒì€, ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì œê³µí•˜ëŠ” ìƒíƒœë¥¼ ë§¹ì‹ í•˜ê¸°ë³´ë‹¤ ê·¸ ë‚´ë¶€ ë™ì‘ ì›ë¦¬ë¥¼ í•œ ë²ˆì¯¤ ë“¤ì—¬ë‹¤ë³´ëŠ” ê²ƒì´ ì–¼ë§ˆë‚˜ ì¤‘ìš”í•œì§€ ë‹¤ì‹œ í•œë²ˆ ê¹¨ë‹¬ì•˜ë‹¤ëŠ” ì ì…ë‹ˆë‹¤.

## ë³´ë„ˆìŠ¤: mutation ì´í›„ navigateë¥¼ í•  ë•Œì˜ ë¡œë”©ì²˜ë¦¬ëŠ”?

ë˜ ë‹¤ë¥¸ í”í•œ ì¼€ì´ìŠ¤ê°€ ìˆìŠµë‹ˆë‹¤. API ìš”ì²­ì´ ì„±ê³µí•œ í›„ í˜ì´ì§€ë¥¼ ì´ë™í•˜ëŠ” ê²½ìš°ì…ë‹ˆë‹¤.

```ts
mutation.mutate(null, {
  onSuccess: () => {
    navigate("/")
  },
})
```

ì´ê²Œ ë¬¸ì œê°€ ë˜ëŠ” ì´ìœ ëŠ” Next.js, React Router ë“± ëŒ€ë¶€ë¶„ì˜ ë¼ìš°íŒ… ë¡œì§ë“¤ì´ ê²½ë¡œ ì´ë™ì„ 'transition'ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. (Next.jsì˜ Link ì»´í¬ë„ŒíŠ¸ [ì½”ë“œ](https://github.com/vercel/next.js/blob/3fe3fb79d6efb69d227fef8d0576ec753112cf10/packages/next/src/client/app-dir/link.tsx#L288-L295), React Routerì˜ [commit](https://github.com/remix-run/react-router/pull/10438/files))

**mutationì´ ì™„ë£Œë˜ì–´ `isPending`ì´ `false`ê°€ ë˜ëŠ” ìˆœê°„ê³¼ ì‹¤ì œ í˜ì´ì§€ ì´ë™ì´ ì™„ë£Œë˜ëŠ” ì‹œì  ì‚¬ì´**ì— ë˜ ë‹¤ë¥¸ í‹ˆì´ ìƒê²¨ë²„ë¦¬ëŠ” ê²ƒì´ì£ .

`useTransition`ì„ ì‚¬ìš©í•´ ë‹¤ì‹œ í•œë²ˆ transitionìœ¼ë¡œ ê°ì‹¸ë©´ ì´ ë¬¸ì œë¥¼ ê¹”ë”í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx
const [isRoutePending, startRouteTransition] = useTransition()

const mutation = useMutation({
  mutationFn: someApi,
  onSuccess: () => {
    // ë¼ìš°íŠ¸ ë³€ê²½ì„ transitionìœ¼ë¡œ ê°ì‹¸ê¸°
    startRouteTransition(() => {
      navigate("/")
    })
  },
})

// ë‘ ìƒíƒœë¥¼ ëª¨ë‘ ê³ ë ¤í•œ disabled ì²˜ë¦¬
const isButtonDisabled = mutation.isPending || isRoutePending
```
