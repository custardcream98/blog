---
title: "Next.jsì—ì„œ styled-components ìŠ¤íƒ€ì¼ì„ ëŠ¦ê²Œ ë¶ˆëŸ¬ì˜¤ëŠ” ë¬¸ì œ í•´ê²°í•˜ê¸°"
excerpt: "Next.jsê°€ htmlì„ ë¶ˆëŸ¬ì˜¬ ë•Œ JavaScriptì˜ ì‹¤í–‰ì´ í•œ ë°œì§ì”© ëŠ¦ì–´ì„œ styled-componentsë¡œ ì§€ì •ëœ ìŠ¤íƒ€ì¼ì´ ë’¤ëŠ¦ê²Œ ë¡œë“œë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•´ë³´ê² ìŠµë‹ˆë‹¤."
date: "2022-08-05"
category: ["Next.js", "styled-components"]
---

> Next.jsê°€ htmlì„ ë¶ˆëŸ¬ì˜¬ ë•Œ JavaScriptì˜ ì‹¤í–‰ì´ í•œ ë°œì§ì”© ëŠ¦ì–´ì„œ styled-componentsë¡œ ì§€ì •ëœ ìŠ¤íƒ€ì¼ì´ ë’¤ëŠ¦ê²Œ ë¡œë“œë˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•´ë³´ê² ìŠµë‹ˆë‹¤.

# Intro

![blink](/static/img/Next.js%EC%97%90%EC%84%9C%20styled-components%20%EC%8A%A4%ED%83%80%EC%9D%BC%EC%9D%84%20%EB%8A%A6%EA%B2%8C%20%EB%B6%88%EB%9F%AC%EC%98%A4%EB%8A%94%20%EB%AC%B8%EC%A0%9C%20%ED%95%B4%EA%B2%B0%ED%95%98%EA%B8%B0/blink.gif)

ë¸”ë¡œê·¸ë¥¼ ì²˜ìŒ ë“¤ì–´ì˜¤ë©´ ì´ëŸ° ê¹œë¹¡ì„ì´ ë³´ì´ëŠ” ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì„ ì–¸ë˜ëŠ” `styled-components`ì˜ ìŠ¤íƒ€ì¼ì´ ë’¤ëŠ¦ê²Œ ë¡œë“œë˜ëŠ”ê±´ë°ìš”, ì˜¤ëŠ˜ì€ ì´ ë¬¸ì œë¥¼ í•´ê²°í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.

# í•´ê²°

[Next.jsì˜ example](https://github.com/vercel/next.js/blob/canary/examples/with-styled-components)ì„ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤!

## 1. `styled-components`ìš© `Babel` í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜

```code
npm i -D babel-plugin-styled-components
```

`devDependency`ë¡œ ì„¤ì¹˜í•©ë‹ˆë‹¤. í•´ë‹¹ í”ŒëŸ¬ê·¸ì¸ì€ ì²« ë Œë”ë§ì‹œì— `styled-components`ë¥¼ ì´ìš©í•´ ìŠ¤íƒ€ì¼ì„ ì ìš©í•  ìˆ˜ ìˆê²Œ í•´ì¤„ ë¿ë§Œ ì•„ë‹ˆë¼, ì»´í¬ë„ŒíŠ¸ì˜ `hashed className`ì„ í™˜ê²½ê°„ ì¼ê´€ë˜ê²Œ ìœ ì§€í•´ì¤ë‹ˆë‹¤. (SSRì—ëŠ” í•„ìˆ˜ì ìœ¼ë¡œ í•„ìš”)

## 2. `ServerStyleSheet`ì„ `_document.tsx`ì— ì¶”ê°€

ê¸°ì¡´ì— ì´ë¯¸ ë§Œë“¤ì–´ë’€ë˜ `_document.tsx`ì— ì•„ë˜ ì½”ë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤. `_document.tsx`ëŠ” `<html>`íƒœê·¸ë‚˜ `<body>`íƒœê·¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•´ì¤ë‹ˆë‹¤. ë²ˆë“¤ëŸ¬ë¡œ ì²˜ìŒ ë§Œë“¤ì—ˆì„ ë•ŒëŠ” ì—†ëŠ”ë°, ì»¤ìŠ¤í…€ì´ í•„ìš”í•  ë•Œ ìƒì„±í•©ë‹ˆë‹¤. ì €ëŠ” Google Fontsë¥¼ ë¡œë“œí•˜ëŠ” ë¶€ë¶„ ë•Œë¬¸ì— ë¯¸ë¦¬ ë§Œë“¤ì–´ë’€ì—ˆìŠµë‹ˆë‹¤.

```tsx
import { ServerStyleSheet } from "styled-components";

MyDocument.getInitialProps = async (ctx: DocumentContext) => {
  const sheet = new ServerStyleSheet();
  const originalRenderPage = ctx.renderPage;

  try {
    ctx.renderPage = () =>
      originalRenderPage({
        enhanceApp: (App) => (props) => sheet.collectStyles(<App {...props} />),
      });

    const initialProps = await Document.getInitialProps(ctx);
    return {
      ...initialProps,
      styles: [initialProps.styles, sheet.getStyleElement()],
    };
  } finally {
    sheet.seal();
  }
};
```

`MyDocument` í´ë˜ìŠ¤(`Document`ë¥¼ ìƒì†í•˜ëŠ” í´ë˜ìŠ¤ì…ë‹ˆë‹¤)ì˜ `getInitialProps()` í•¨ìˆ˜ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ì—¬ê¸°ì—ì„œ `ServerStyleSheet`ë¥¼ ìƒì„±í•´ ëª¨ë“  í˜ì´ì§€ì— ëŒ€í•´ ìŠ¤íƒ€ì¼ì„ ëª¨ìœ¼ê³ , `<App>`ì— propìœ¼ë¡œ ë„˜ê²¨ì£¼ëŠ” ì‹ì…ë‹ˆë‹¤.

ì´ì œ `MyDocument`ì—ì„œ `<Head>`ì— ì•„ë˜ í•œ ì¤„ì„ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

```tsx
export default class MyDocument extends Document {
  render() {
    return (
      <Html lang='kr'>
        <Head>
          {this.props.styles} {/* ì´ í•œ ì¤„ë§Œ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤. */}
        </Head>
        <body>
          <Main />
          <NextScript />
        </body>
      </Html>
    );
  }
}
```

ì´ì œ ê¹œë¹¡ì„ë„ ì‚¬ë¼ì§€ê³  ë” ë¶€ë“œëŸ½ê²Œ ëŒì•„ê°€ëŠ” ë¸”ë¡œê·¸ê°€ ëìŠµë‹ˆë‹¤ ğŸ˜„
